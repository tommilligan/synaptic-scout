<template>
  <div class="indicator">
    <div :class="{ 'loading-indeterminate': loading }" />
  </div>
</template>
<script>

export default {
  name: 'indicator-bar',
  props: [
    'loading'
  ]
}
</script>
<style lang="scss" scoped>

@import "~sass-variables";

/* Progress Bar */
.indicator {
  position: relative;
  height: 3px;
  display: block;
  width: 100%;
  background-color: $global-background;
  background-clip: padding-box;
  overflow: hidden;
}

.loading-indeterminate {
  background-color: $accent;

  $animation-duration: 2.1s;
  &:before, &:after {
    content: '';
    position: absolute;
    background-color: inherit;
    top: 0;
    left: 0;
    bottom: 0;
    will-change: left, right;
  }
  &:before {
    animation: loading-indeterminate $animation-duration cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
  }
  &:after {
    animation: loading-indeterminate-short $animation-duration cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation-delay: 1.15s;
  }
}

@keyframes loading-indeterminate {
0% {
  left: -35%;
  right: 100%; }
60% {
  left: 100%;
  right: -90%; }
100% {
  left: 100%;
  right: -90%; } }
@keyframes loading-indeterminate-short {
0% {
  left: -200%;
  right: 100%; }
60% {
  left: 107%;
  right: -8%; }
100% {
  left: 107%;
  right: -8%; } }

</style>
